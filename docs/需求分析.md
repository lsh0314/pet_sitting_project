### 一、 宠物主 (Pet Owner) - 需求方

**核心目标**：快速、安全地为自己的爱宠找到可靠的临时照料服务。

#### **1. 账户与资料管理**

- **微信授权登录/注册**：一键登录，无需繁琐的注册流程。
- **个人信息编辑**：可以修改自己的昵称、头像。
- **宠物档案管理**：
  - **创建/编辑宠物档案**：可添加多只宠物，录入宠物品种、照片、年龄、性别、体重、疫苗情况、是否绝育。
  - **填写宠物习性**：详细描述宠物的性格（如：活泼、胆小、亲人、怕狗/怕人）、饮食习惯、过敏史、特殊注意事项（如：不能吃某种食物、害怕打雷等）。这是帮溜员服务的重要依据。

#### **2. 核心服务流程**

- **浏览与筛选帮溜员**：
  - 在首页或地图上查看附近的帮溜员。
  - 按服务类型（遛狗、上门喂养、家庭寄养）、价格、好评率、距离、认证状态等条件进行筛选和排序。
- **查看帮溜员主页**：点击帮溜员头像，查看其详细信息，包括：实名认证标识、个人简介、服务报价、历史服务次数、用户评价详情、服务照片集。
- **发布服务需求**：
  - 选择服务类型、服务宠物、期望的服务时间（可选择单次或多天）。
  - 填写地址（为了安全，可模糊到小区或街道）。
  - 发布后，需求会进入“订单大厅”等待帮溜员接单。
- **直接邀约帮溜员**：对心仪的帮溜员直接发起服务邀请。
- **在线沟通**：通过内置聊天工具与帮溜员沟通服务细节，确认对方是否有能力和意愿接单。
- **在线支付**：确认服务后，通过微信支付向平台支付服务费用，资金由平台**托管**。
- **查看服务进程**：
  - **（遛狗服务）实时GPS轨迹**：在服务期间，可以实时查看遛狗的路线图、时长和距离。
  - **（所有服务）服务报告**：接收帮溜员发送的宠物实时照片、短视频和文字反馈，了解宠物状态。
- **确认服务完成**：服务结束后，在小程序内点击“确认完成”，平台会将托管的费用支付给帮溜员。
- **评价与分享**：对本次服务进行打分和文字评价，评价内容将展示在帮溜员的主页。

#### **3. 安全与支持**

- **查看订单列表**：管理自己所有状态（进行中、待评价、已完成）的订单。
- **申请平台介入**：当发生服务纠纷时，可以一键申请平台客服介入处理。
- **可选购保险**：在下单时，可以选择性购买宠物意外伤害险。

------



### 二、 帮溜员 (Pet Sitter/Walker) - 服务提供方

**核心目标**：利用闲暇时间，通过提供专业的宠物服务来赚取收入，并建立个人品牌。

#### **1. 账户与资质管理**

- **微信授权登录/注册**：快速进入平台。
- **完成实名认证（强制）**：上传身份证正反面，进行人脸识别，这是接单的**前提条件**。
- **创建/编辑个人服务主页**：
  - 上传真实头像和生活照，撰写个人简介（如：养宠经验、为何喜欢动物等）。
  - 设置可提供的服务类型（遛狗、寄养等）并为每项服务**独立定价**。
  - 设置可接单的**服务区域**和**服务时间**（如：仅周末、工作日晚上）。
- **（可选）高级认证**：上传宠物相关技能证书（如训导师证）或健康证明，以获得平台的“专业”或“已认证”等标签，提升竞争力。

#### **2. 核心服务流程**

- **浏览订单大厅**：查看附近宠物主发布的服务需求，了解任务详情。
- **申请接单**：对感兴趣的订单发起申请，并可以附上一段简单的自我推荐。
- **管理服务邀约**：查看并处理宠物主直接发来的服务邀请（接受或拒绝）。
- **在线沟通**：与宠物主沟通，详细了解宠物情况和主人要求。
- **管理我的订单**：通过日历或列表视图，清晰地查看自己已接受的、待服务的、进行中的订单，避免时间冲突。
- **执行服务与汇报**：
  - 开始服务时，点击“开始服务”按钮。
  - **（遛狗服务）开启GPS轨迹记录**：系统自动记录遛狗路线。
  - **提交服务报告**：在服务过程中，通过小程序向主人发送宠物的照片、视频和状态描述。
  - 服务结束后，点击“结束服务”，并生成本次服务的完整报告（含轨迹、时长、照片等）。

#### **3. 财务与信誉**

- **我的钱包**：
  - 查看账户余额、总收入和收入明细。
  - **申请提现**：将已结算的收入提现到绑定的微信钱包或银行卡。
- **我的评价管理**：查看所有收到的历史评价，了解自己的服务口碑。

------



### 三、 平台管理员 (Administrator) - 运营与监管方

**核心目标**：维护平台生态健康，保障交易安全，处理异常，实现平台盈利和增长。
（通常通过PC端Web后台进行操作）

#### **1. 用户与认证管理**

- **用户列表**：查看、搜索所有平台用户（宠物主、帮溜员）的信息。
- **帮溜员资质审核**：
  - 审核帮溜员提交的实名认证信息（身份证、人脸识别结果）。
  - 审核其提交的高级认证材料。
- **用户账户管理**：对有违规行为（如：欺诈、恶意差评、发布不当内容）的用户进行警告、暂时冻结或永久封禁。

#### **2. 运营与内容管理**

- **订单监控**：查看平台所有订单的实时状态，对异常订单进行干预。
- **内容审核**：审核用户发布的评价、个人简介、动态等，屏蔽广告、色情、暴力等不当内容。
- **系统配置**：
  - **设置佣金比例**：灵活调整平台从每笔交易中抽取的服务费比例。
  - **管理服务类目**：可以新增或修改服务类型（如未来增加宠物洗澡、美容等）。
  - **协议与规则管理**：更新平台的用户协议、隐私政策、纠纷处理规则等。

#### **3. 财务与纠纷处理**

- **财务看板**：查看平台关键财务数据，如：总交易额(GMV)、平台收入、待结算金额等。
- **提现审批**：审核并处理帮溜员发起的提现请求。
- **退款管理**：处理因订单取消等原因产生的退款操作。
- **纠纷处理中心**：
  - 接收并处理用户提交的申诉。
  - 查看与纠纷相关的订单信息、聊天记录、服务报告等证据。
  - 根据平台规则进行裁决（如：退款、部分退款、驳回申诉）。

------



#### **阶段一：服务前 (准备与匹配)**

**宠物主 (Pet Owner)**

1. **注册/登录**：
   - [功能] 微信一键授权登录。
   - [细节] 首次登录需同意《用户协议》和《隐私政策》。
2. **创建宠物档案**：
   - [功能] 表单式录入宠物信息。
   - [细节] 必填项：名字、品种、年龄段、照片。选填项：疫苗证明（图片上传）、健康状况、性格描述（提供标签选项如“亲人”、“胆小”、“社交牛逼症”等，并支持自定义文本输入）、过敏源、紧急联系兽医电话。
3. **寻找服务**：
   - [功能] 首页推荐 + 地图模式 + 列表筛选。
   - [细节] 地图上显示帮溜员头像和起步价。列表页可按“距离最近”、“好评优先”、“价格从低到高”等排序。筛选条件包括：服务类型（遛狗/寄养/喂养）、可服务时间段、帮溜员性别、是否接受大型犬等。
4. **发起需求**：
   - [功能] 发布订单 / 直接邀约。
   - [细节]
     - **发布订单**：填写服务信息（选择宠物、时间、地点、特殊要求），订单进入“订单广场”，所有符合条件的帮溜员可见。
     - **直接邀约**：在帮溜员主页直接发起，订单仅该帮溜员可见。可设置邀约有效期（如1小时内不回复则自动取消）。
5. **沟通与确认**：
   - [功能] 内置IM聊天。
   - [细节] 聊天窗口顶部会显示关联的订单信息。系统会保留聊天记录作为纠纷处理依据。平台可设置关键词监控（如“微信”、“私下交易”等），并进行弹窗提醒风险。
6. **支付与预定**：
   - [功能] 微信支付。
   - [细节] 用户支付成功后，资金进入平台托管账户。订单状态变为“待服务”。系统自动向双方发送服务时间、地点的提醒。

**帮溜员 (Pet Sitter)**

1. **注册与认证**：
   - [功能] 微信登录 + 实名认证流程。
   - [细节] 实名认证对接第三方服务，进行身份证OCR识别和人脸比对。审核通过前，无法接单，只能浏览。
2. **配置服务**：
   - [功能] 个人主页编辑。
   - [细节] 可为不同服务类型（遛狗/寄养）、不同宠物体重（小型/中型/大型犬）设置差异化价格。服务时间以日历形式勾选，所选时间会影响订单的匹配。
3. **接单**：
   - [功能] 订单广场 + 邀约通知。
   - [细节] 在订单广场看到新订单，点击“我要接单”。收到邀约后，可在“我的消息”中查看并选择“接受”或“拒绝”。接单前必须查看完整的宠物档案和主人备注。
4. **沟通**：
   - [功能] 内置IM聊天。
   - [细节] 接受订单前，可与主人沟通以确认细节。接受订单后，可进一步沟通交接事宜。

**平台管理员 (Admin)**

1. **后台审核**：
   - [功能] 帮溜员资质审核后台。
   - [细节] 管理员在后台查看待审核列表，核对身份证信息与人脸比对结果，可“通过”或“驳回”（需填写驳回原因）。

------



#### **阶段二：服务中 (执行与监控)**

**宠物主 (Pet Owner)**

1. **监控服务状态**：
   - [功能] 订单详情页实时更新。
   - [细节] 页面显示“服务进行中”。对于遛狗服务，内嵌地图实时展示GPS轨迹、已用时长、已走距离。
2. **接收服务报告**：
   - [功能] 实时接收图片/视频/文字。
   - [细节] 帮溜员发送的内容以时间线形式呈现在订单详情页，让主人安心。

**帮溜员 (Pet Sitter)**

1. **开始/结束服务**：
   - [功能] 订单详情页的操作按钮。
   - [细节] 到达约定地点后，点击“开始服务”。系统开始计时和记录轨迹（如适用）。服务完成后，点击“结束服务”。
2. **上报服务日志**：
   - [功能] 服务过程中的快捷操作。
   - [细节] 可一键上传手机相册图片/视频，或直接拍摄。可附上简短文字描述，如“狗狗今天很开心，喝了很多水”。
3. **紧急情况处理**：
   - [功能] 紧急联系按钮。
   - [细节] 订单详情页提供一键拨打主人电话和平台紧急客服电话的按钮。

------



#### **阶段三：服务后 (结算与评价)**

**宠物主 (Pet Owner)**

1. **确认完成**：
   - [功能] 订单详情页的“确认完成”按钮。
   - [细节] 系统在服务结束后（或24/48小时后）提示主人确认。主人点击确认后，平台将托管费用转给帮溜员。若超时未确认，系统可自动确认完成。
2. **评价**：
   - [功能] 评价体系。
   - [细节] 对服务进行星级评分（如：沟通态度、准时性、宠物喜爱度等维度）并填写文字评价。可选择匿名评价。评价后才能看到对方给自己的评价。

**帮溜员 (Pet Sitter)**

1. **查看收款**：
   - [功能] 钱包与账单。
   - [细节] 主人确认完成后，扣除平台佣金的金额会进入帮溜员的“可提现余额”。账单中会清晰列出订单收入和平台佣金。
2. **评价**：
   - [功能] 评价体系。
   - [细节] 对宠物主和宠物进行评价（如：主人是否友善、宠物是否乖巧、信息是否准确）。这有助于其他帮溜员参考。

------



### **阶段四：售后处理 (纠纷与支持)**

这是保障平台信誉和用户体验的关键环节。

**1. 用户发起售后申请**

- **宠物主入口**：
  - [功能] 在“已完成”或“服务中”的订单详情页，提供“申请售后/申诉”入口。
  - [细节] 用户点击后，进入申诉页面。需选择申诉类型（如：服务不满意、宠物受伤、物品丢失、帮溜员未按时服务等）。需要填写申诉理由，并**上传证据**（截图、照片、视频）。
- **帮溜员入口**：
  - [功能] 同样在订单详情页提供入口。
  - [细节] 申诉类型可能包括：主人信息不实导致服务困难、主人临时取消但未支付违约金、遭到不实差评等。同样需要填写理由和上传证据。

**2. 平台介入与处理流程**

- **管理员后台**：
  - [功能] 售后纠纷处理中心。
  - [细节]
    1. **新申诉通知**：当有新的售后申请时，管理员后台会有醒目的提醒。
    2. **纠纷列表**：展示所有处理中和已处理的纠纷案件，包含订单号、申诉方、被申诉方、申诉状态。
    3. **案件详情页**：点击进入后，可以看到：
       - **双方信息**：宠物主和帮溜员的基础信息和历史信用。
       - **订单快照**：该笔订单的所有信息（包括宠物档案、主人备注）。
       - **双方举证**：清晰列出申诉方和被申诉方提交的所有文字理由和证据材料。
       - **聊天记录调取**：系统自动调取并展示与该订单相关的双方聊天记录。
       - **服务报告/轨迹**：回放服务过程中的所有报告和遛狗轨迹。
- **处理与裁决**：
  - [功能] 管理员操作面板。
  - [细节] 管理员根据所有证据，进行裁决操作：
    - **沟通协调**：管理员可作为第三方，通过平台分别与双方联系，尝试调解。
    - **判定责任**：管理员根据平台规则判定责任方。
    - **执行裁决**：
      - **全额/部分退款**：若判定为帮溜员责任，管理员可操作将托管资金（如果还未支付）或从帮溜员余额中划扣，退还给宠物主。
      - **驳回申诉**：若申诉理由不成立，则驳回申请。
      - **信用分奖惩**：根据裁决结果，对责任方的信用分进行扣除，对守约方进行奖励。
      - **账户处罚**：对于严重违规行为（如欺诈），可直接冻结或封禁账户。
    - **记录裁决结果**：所有操作和裁决理由都会被系统记录，并通知双方。

**3. 保险理赔流程 (如提供)**

- **用户入口**：
  - [功能] 在售后申请流程中，如果订单购买了保险，会增加“申请保险理赔”的选项。
- **流程**：
  - 用户提交理赔申请，并按保险公司要求提供材料（如宠物受伤照片、兽医诊断证明、医疗费用发票等）。
  - 平台协助用户将材料递交给合作的保险公司。
  - 平台跟进理赔进度，并将结果同步给用户。

通过这样细致的流程设计，可以确保在问题发生时，平台有清晰、公正、高效的处理机制，从而最大程度地保护好用户和帮溜员双方的权益，建立起平台的公信力。

好的，我们现在将所有的需求按照标准的软件开发模块（Module）进行组织。这种方式更便于技术团队理解、分工和开发。

------



### **小程序功能模块化需求说明**

#### **模块一：用户与账户中心 (User & Account Module)**

- **目标**：管理所有用户的身份、资料和认证状态。
- **子模块 / 功能点**：
  1. **统一登录/注册**：
     - 需求：支持微信手机号一键授权登录。
     - 逻辑：后端通过 code 获取 OpenID 和 SessionKey，建立用户身份。首次登录自动创建账户，并引导用户完善角色信息（宠物主/帮溜员）。
     - 协议：登录时必须勾选同意《用户协议》和《隐私政策》。
  2. **个人资料管理**：
     - 需求：用户可编辑自己的头像、昵称、性别等基础信息。
  3. **角色身份管理**：
     - 需求：用户可以选择并切换自己的主要角色（宠物主/帮溜员），一个用户可以同时拥有双重身份，但在特定操作流程中角色是固定的。
  4. **帮溜员资质认证**：
     - 需求：提供实名认证入口，引导用户上传身份证正反面、进行人脸识别。
     - 逻辑：调用第三方认证服务API（如腾讯云、阿里云），将认证状态（待审核、已通过、已驳回）与用户账户绑定。
     - 扩展：支持上传专业技能证书等非必要但可加分的认证材料。

#### **模块二：宠物管理模块 (Pet Module)**

- **目标**：让宠物主方便地管理其爱宠信息，为服务提供精准数据。
- **子模块 / 功能点**：
  1. **宠物档案列表**：
     - 需求：宠物主可以查看自己名下所有宠物的列表。
  2. **宠物档案创建/编辑**：
     - 需求：通过表单创建或修改宠物信息。
     - 字段：宠物名（必填）、照片（必填）、品种、年龄、体重、性别、是否绝育、疫苗情况（可上传图片）、健康描述、性格标签、特殊注意事项、紧急联系兽医等。
     - 逻辑：宠物档案与宠物主账户关联。

#### **模块三：服务与订单核心模块 (Service & Order Module)**

- **目标**：管理从服务发布到订单完成的全流程。
- **子模块 / 功能点**：
  1. **服务发布/邀约**：
     - 需求：宠物主可选择“公开发布”（到订单广场）或“私下邀约”（指定帮溜员）。
     - 字段：服务类型、选择宠物、服务时间/日期、服务地点、悬赏价格、特殊备注。
  2. **订单广场/大厅**：
     - 需求：帮溜员可以浏览所有公开的、符合其服务范围的订单。
     - 功能：支持按距离、价格、发布时间排序。
  3. **接单/报价**：
     - 需求：帮溜员可对订单进行“接单”操作。未来可扩展为“报价”模式，由主人选择。
  4. **订单状态机管理**：
     - 需求：订单需具备清晰的状态流转。
     - 状态：待接单 -> 待支付 -> 待服务 -> 服务中 -> 待确认（待评价） -> 已完成 / 已取消。
     - 逻辑：每个状态的变更都会触发相应的业务逻辑（如支付、通知、结算）和权限变化。
  5. **订单详情**：
     - 需求：为订单参与双方（宠物主、帮溜员）和管理员提供不同视角的订单详情页，展示所有与订单相关的信息。

#### **模块四：服务执行工具模块 (Service Execution Tools Module)**

- **目标**：为服务过程提供数字化、可视化的工具，提升信任感。
- **子模块 / 功能点**：
  1. **GPS轨迹记录**：
     - 需求：针对“遛狗”服务，帮溜员开始服务后，小程序在后台持续获取地理位置，并在地图上绘制轨迹。
     - 技术：调用微信小程序的 wx.startLocationUpdateBackground 等API。
     - 展示：宠物主可实时查看轨迹、时长、里程。
  2. **服务报告/日志**：
     - 需求：帮溜员在服务中可以方便地上传图片、短视频和文字，形成服务日志。
     - 逻辑：所有上报内容按时间线展示在订单详情页中，双方可见。

#### **模块五：支付与财务模块 (Payment & Finance Module)**

- **目标**：处理所有与资金相关的流程，包括支付、结算、提现、佣金。
- **子模块 / 功能点**：
  1. **微信支付集成**：
     - 需求：宠物主下单后，调用微信支付接口完成付款。
     - 逻辑：支付成功后，资金进入平台的微信商户号，后端记录支付状态并更新订单状态。
  2. **平台佣金系统**：
     - 需求：可配置的佣金比例。
     - 逻辑：在订单结算时，系统自动按比例计算平台收入和帮溜员应得收入。
  3. **钱包与结算**：
     - 需求：帮溜员拥有个人钱包，可查看总收入、可提现余额、冻结金额（服务中）、账单明细。
     - 逻辑：订单确认完成后，应得收入从冻结金额转入可提现余额。
  4. **提现管理**：
     - 需求：帮溜员可申请将余额提现到其微信零钱或银行卡。
     - 逻辑：后台需有提现申请的审核流程，支持自动或手动打款。

#### **模块六：沟通与通知模块 (Communication & Notification Module)**

- **目标**：建立用户间的沟通渠道和平台与用户间的信息触达。
- **子模块 / 功能点**：
  1. **内置即时通讯 (IM)**：
     - 需求：提供基于订单的聊天功能，保障双方隐私，并作为纠纷证据。
     - 技术：可采用第三方IM云服务（如腾讯IM、网易云信）或自研。
  2. **系统消息中心**：
     - 需求：用于接收平台公告、活动通知、系统警告等。
  3. **微信模板消息/订阅消息**：
     - 需求：在关键节点（如订单被接、服务即将开始、收到新消息）向用户推送服务通知。
     - 逻辑：用户需主动订阅相关消息，平台在触发事件时调用API发送。

#### **模块七：搜索与展示模块 (Search & Display Module)**

- **目标**：帮助用户高效地发现所需的服务或信息。
- **子模块 / 功能点**：
  1. **帮溜员搜索/筛选**：
     - 需求：提供多维度筛选功能，如地理位置（LBS）、价格、服务类型、好评率等。
     - 技术：需要数据库支持地理空间索引（如使用MongoDB或MySQL的GIS功能）。
  2. **帮溜员主页**：
     - 需求：聚合展示帮溜员的所有信息，包括个人简介、认证状态、服务项目与价格、历史评价、服务相册等。

#### **模块八：售后与评价体系模块 (After-sales & Reputation Module)**

- **目标**：建立信任机制，公正处理纠纷。
- **子模块 / 功能点**：
  1. **双向评价系统**：
     - 需求：订单完成后，宠物主和帮溜员可以互相评价。
     - 逻辑：采用多维度星级评分+文字评价。评价内容在双方都提交后或评价期结束后才可见，防止报复性评价。
  2. **信用分体系**：
     - 需求：建立用户信用分模型。
     - 逻辑：初始分固定，完成订单、获得好评可加分；取消订单、被投诉、差评等会扣分。信用分可作为排序和筛选的依据。
  3. **纠纷申诉流程**：
     - 需求：提供订单申诉入口，用户可提交图文证据。
     - 逻辑：申诉会生成一个工单，流转至管理员后台进行处理。

#### **模块九：后台管理系统 (Admin Backend Module) - Web端**

- **目标**：为平台管理员提供运营、管理和监控的工具。
- **子模块 / 功能点**：
  1. **数据看板 (Dashboard)**：
     - 需求：展示核心业务数据，如日活用户、新增用户、订单量、GMV、平台收入等。
  2. **用户管理**：
     - 需求：查看所有用户列表，搜索用户，管理用户账户状态（封禁/解封）。
  3. **认证管理**：
     - 需求：审核帮溜员的实名认证和其它资质认证。
  4. **订单管理**：
     - 需求：查看所有订单，对异常订单进行干预。
  5. **财务管理**：
     - 需求：查看交易流水，处理提现申请和退款。
  6. **内容管理**：
     - 需求：审核用户评价、个人简介等UGC内容。
  7. **纠纷处理中心**：
     - 需求：集中处理所有用户申诉工单。
  8. **系统设置**：
     - 需求：配置佣金比例、协议文本、服务类目等。